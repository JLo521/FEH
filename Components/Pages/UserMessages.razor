@page "/messages/user"

<PageTitle>UserMessagingPage</PageTitle>
<p><h1>Secure User Messaging</h1></p>
<p><h3>Send a message or question to an admin.</h3></p>

<InputText @bind-Value="currentMessage" placeholder="Type a message..." class="form-control" />

<button @onclick="AddMessage" class="btn btn-primary mt-2">Send to Admin</button>

<h3>Message Log</h3>
<textarea class="form-control" rows="10" style="resize: none; overflow-y: auto;" readonly>@messages</textarea>

@code {
    private string currentMessage = string.Empty;
    private string messages = string.Empty; 

    private void AddMessage()
    {
        if (!string.IsNullOrWhiteSpace(currentMessage))
        {
            messages += currentMessage + "\n";
            currentMessage = string.Empty;
            StateHasChanged();
        }
    }
}